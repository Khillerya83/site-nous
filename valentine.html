<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Je t'aime üíñ</title>
    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* --- Corps de page --- */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #f5e6ed;
    color: #4a4a4a;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

/* --- Structure des √©crans --- */
.screen {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 500px;
    min-height: 100vh;
    animation: fadeIn 0.6s ease;
}

.screen.active {
    display: flex;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.98); }
    to { opacity: 1; transform: scale(1); }
}

/* --- √âcran 1 : Accueil --- */
.logo-text {
    font-size: 3em;
    font-style: italic;
    color: #4a4a4a;
    position: relative;
    margin-bottom: 60px;
}

.logo-heart {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 5em;
    color: #ff9db5;
    opacity: 0.7;
}

.welcome-text {
    font-size: 2.2em;
    font-weight: 500;
    color: #5a5a5a;
    margin-bottom: 40px;
}

/* --- Boutons g√©n√©raux --- */
.btn {
    background: linear-gradient(135deg, #ffb3c6 0%, #ff8fa8 100%);
    color: white;
    border: none;
    padding: 14px 50px;
    font-size: 1.2em;
    font-weight: 500;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 8px 20px rgba(255, 143, 168, 0.3);
    border: 3px solid rgba(255, 255, 255, 0.5);
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(255, 143, 168, 0.4);
}

/* --- Photo (page 2) --- */
.photo-page2 {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 30px;
    box-shadow: 0 8px 25px rgba(255, 143, 168, 0.5);
    border: 4px solid #fff;
    animation: float 4s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

/* --- Question principale --- */
.question-title {
    font-size: 1.8em;
    font-weight: 600;
    color: #5a5a5a;
    margin-bottom: 30px;
    text-align: center;
    padding: 0 20px;
}

/* --- Conteneur de boutons --- */
.buttons-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    width: 100%;
    max-width: 350px;
    margin-top: 10px;
}

/* --- Bouton du petit mot --- */
.word-button {
    position: relative;
    bottom: auto;
    right: auto;
    margin-top: 40px;
    background: linear-gradient(135deg, #ffb3c6 0%, #ff8fa8 100%);
    padding: 14px 28px;
    font-size: 1.1em;
    border-radius: 40px;
    border: none;
    color: white;
    box-shadow: 0 6px 20px rgba(255, 143, 168, 0.3);
    transition: all 0.3s ease;
}

.word-button:hover {
    transform: scale(1.05);
}

/* --- Bouton du site (fix√© en haut √† gauche) --- */
.btn-site {
    position: fixed;
    top: 15px;
    left: 15px;
    background: linear-gradient(90deg, #ff92a5, #ffbfd3);
    color: #fff;
    border: none;
    padding: 8px 14px;
    border-radius: 30px;
    font-size: 0.9em;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(255, 143, 168, 0.4);
    z-index: 100;
}

.btn-site:hover {
    transform: scale(1.08);
}

/* --- √âcran 3 : Message --- */
.message-container {
    padding: 40px 30px;
    max-width: 450px;
    text-align: left;
}

.message-text {
    font-size: 1.2em;
    line-height: 1.8;
    color: #5a5a5a;
    margin-bottom: 50px;
    font-style: italic;
}

.btn-retour {
    background: linear-gradient(135deg, #ffb3c6 0%, #ff8fa8 100%);
    padding: 16px 60px;
}

/* --- Effets d√©coratifs --- */
.confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    animation: confettiFall 3s ease-out forwards;
    pointer-events: none;
    z-index: 1000;
}

@keyframes confettiFall {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

.floating-heart {
    position: fixed;
    font-size: 30px;
    animation: floatHeart 4s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

@keyframes floatHeart {
    0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0; }
    10%, 90% { opacity: 0.8; }
    100% { transform: translateY(-100vh) rotate(180deg); opacity: 0; }
}

/* --- Responsive (mobile & tablette) --- */
@media (max-width: 768px) {
    .logo-text { font-size: 2.5em; }
    .welcome-text { font-size: 1.8em; }
    .question-title { font-size: 1.4em; padding: 0 10px; }

    .photo-page2 {
        width: 140px;
        height: 140px;
        margin-bottom: 20px;
    }

    .buttons-container {
        flex-direction: column;
        align-items: center;
        gap: 15px;
        max-width: 280px;
    }

    .btn {
        font-size: 1em;
        padding: 12px 40px;
    }

    .word-button {
        font-size: 1em;
        padding: 20px 25px;
        margin-top: 30px;
    }

    .btn-site {
        padding: 6px 12px;
        font-size: 0.85em;
        top: 10px;
        left: 10px;
    }
}

    </style>
</head>
<body>
    <!-- √âcran 1 : Bienvenue -->
    <div class="screen active" id="screen1">
        <div style="position: relative; text-align: center;">
            <div class="logo-heart">üíñ</div>
            <div class="logo-text">Je t'aime</div>
        </div>
        <div class="welcome-text">Bienvenue ‚ù§Ô∏è</div>
        <button class="btn" onclick="goToScreen(2)">Commencer</button>
    </div>

    <!-- √âcran 2 : Question -->
    <div class="screen" id="screen2">
        <img src="lapins.jpg" alt="Photo de nous" class="photo-page2">
        <h1 class="question-title">Veux-tu √™tre ma Valentine ? üíù</h1>
        <div class="buttons-container">
            <button class="btn" onclick="handleYes()">Oui üíï</button>
            <button class="btn" onclick="handleNo()">Non üò¢</button>
        </div>
        <button class="btn btn-site" onclick="window.location.href='https://khillerya83.github.io/site-nous/index.html'">Aller sur notre site üíû</button>
        <button class="word-button" onclick="goToScreen(3)">Un petit<br>mot pour<br>toi ‚ù§Ô∏è</button>
    </div>

    <!-- √âcran 3 : Message -->
    <div class="screen" id="screen3">
        <div class="message-container">
            <p class="message-text">
                <strong>Mon amour,</strong><br><br>
                Depuis le premier jour o√π je t'ai rencontr√©e, tu as illumin√© ma vie. 
                Ton sourire est mon rayon de soleil, et ton rire est la plus douce des m√©lodies. 
                Je suis tellement heureux d'avoir la chance de partager ce moment avec toi. 
                Chaque instant pass√© √† tes c√¥t√©s est un cadeau que je ch√©ris profond√©ment. 
                Joyeuse Saint-Valentin mon c≈ìur ! ‚ù§Ô∏è
            </p>
            <button class="btn btn-retour" onclick="goToScreen(2)">Retour</button>
        </div>
    </div>

    <!-- Script principal -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, set, push } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBlnTrqwUyEL2c-wymJXxKL05N2Twcwv4w",
            authDomain: "site-amour-92308.firebaseapp.com",
            databaseURL: "https://site-amour-92308-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "site-amour-92308",
            storageBucket: "site-amour-92308.firebasestorage.app",
            messagingSenderId: "607113419155",
            appId: "1:607113419155:web:6851a0fdc2c0fd38337066"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        window.goToScreen = (n) => {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen' + n).classList.add('active');
        };

        function createConfetti() {
            const colors = ['#ffb3c6', '#ff8fa8', '#ffd1dc', '#ffaec9', '#ff69b4'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const c = document.createElement('div');
                    c.className = 'confetti';
                    c.style.left = Math.random() * 100 + '%';
                    c.style.background = colors[Math.floor(Math.random() * colors.length)];
                    c.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(c);
                    setTimeout(() => c.remove(), 3000);
                }, i * 30);
            }
        }

        function createFloatingHearts() {
            const hearts = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíù'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const h = document.createElement('div');
                    h.className = 'floating-heart';
                    h.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    h.style.left = Math.random() * 100 + '%';
                    h.style.animationDuration = (Math.random() * 2 + 3) + 's';
                    document.body.appendChild(h);
                    setTimeout(() => h.remove(), 5000);
                }, i * 50);
            }
        }

        window.handleYes = async () => {
            createConfetti();
            createFloatingHearts();

            try {
                const messagesRef = ref(database, 'messages');
                const newMsg = push(messagesRef);
                await set(newMsg, {
                    author: 'Ta Valentine üíñ',
                    text: 'OUI ! Je veux √™tre ta Valentine ! üåπüíï Je t\'aime mon amour !',
                    timestamp: Date.now()
                });
                setTimeout(() => window.location.reload(), 2000);
            } catch (err) {
                console.error(err);
                setTimeout(() => window.location.reload(), 2000);
            }
        };

        window.handleNo = () => {
            if (confirm('üò± Tu es vraiment s√ªre ? Je vais me prendre un r√¢teau l√†...')) {
                setTimeout(() => {
                    window.location.href = 'https://www.amazon.fr/dp/B084VNBC9D';
                }, 500);
            }
        };

        // Petits c≈ìurs d‚Äôambiance
        setInterval(() => {
            const h = document.createElement('div');
            h.className = 'floating-heart';
            h.innerHTML = 'üíï';
            h.style.left = Math.random() * 100 + '%';
            h.style.animationDuration = (Math.random() * 2 + 4) + 's';
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 6000);
        }, 2000);
    </script>
</body>
</html>
